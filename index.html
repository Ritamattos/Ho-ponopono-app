<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Ho'oponopono - Jornada GalÃ¡ctica</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ™</text></svg>">
    <meta name="description" content="Ho'oponopono - Jornada de Cura e TransformaÃ§Ã£o. Pratique a antiga tÃ©cnica havaiana de limpeza e perdÃ£o.">
    <meta name="keywords" content="hooponopono, ho'oponopono, meditaÃ§Ã£o, cura, transformaÃ§Ã£o, havaÃ­, perdÃ£o">
    <meta name="author" content="Rita Mattos">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Ho'oponopono - Jornada de Cura e TransformaÃ§Ã£o">
    <meta property="og:description" content="Pratique a antiga tÃ©cnica havaiana de limpeza e perdÃ£o">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://via.placeholder.com/1200x630/8b5cf6/ffffff?text=Ho'oponopono">

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#8b5cf6">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Ho'oponopono">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <!-- Efeito GalÃ¡xia de Fundo -->
    <div class="galaxy-bg">
        <div class="stars"></div>
        <div class="nebula"></div>
        <div class="nebula"></div>
    </div>
    <div class="app-container">
        <!-- NOVA TELA DE DOWNLOAD (sÃ³ o card) -->
        <div class="download-screen" id="downloadScreen">
            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; text-align: center; padding: 20px;">
                
                <!-- Card Principal de Download (SEM logo e tÃ­tulo) -->
                <div style="background: rgba(30, 0, 60, 0.4); backdrop-filter: blur(15px); border: 2px solid rgba(139, 92, 246, 0.4); border-radius: 25px; padding: clamp(30px, 8vw, 40px); max-width: 450px; width: 100%; margin-bottom: 30px; animation: pulse 3s ease-in-out infinite;">
                    
                    <div style="font-size: clamp(48px, 12vw, 64px); margin-bottom: 20px;">ğŸ“±</div>
                    
                    <h2 style="color: #10b981; font-size: clamp(1.5em, 6vw, 2em); margin-bottom: 15px; font-weight: bold;">Instale o App Completo</h2>
                    
                    <p style="color: #e9d5ff; font-size: clamp(1em, 4vw, 1.1em); line-height: 1.6; margin-bottom: 25px;">
                        âœ¨ Acesso offline<br>
                        ğŸš€ ExperiÃªncia nativa<br>
                        ğŸ”” NotificaÃ§Ãµes personalizadas<br>
                        ğŸ’¾ Seus dados salvos sempre
                    </p>
                    
                    <!-- BotÃ£o de Install -->
                    <button id="installBtnMain" style="background: linear-gradient(45deg, #10b981, #8b5cf6); color: white; border: none; padding: 18px 35px; border-radius: 30px; font-size: clamp(1.1em, 4.5vw, 1.3em); font-weight: 700; cursor: pointer; box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4); transition: all 0.3s ease; width: 100%; margin-bottom: 15px;" onclick="instalarApp()" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        ğŸ“² Instalar Agora
                    </button>
                    
                    <!-- BotÃ£o Continuar sem Instalar -->
                    <button style="background: rgba(255, 255, 255, 0.1); color: #c4b5fd; border: 2px solid rgba(196, 181, 253, 0.3); padding: 12px 25px; border-radius: 25px; font-size: clamp(1em, 3.5vw, 1.1em); cursor: pointer; transition: all 0.3s ease; width: 100%;" onclick="continuarSemInstalar()" onmouseover="this.style.background='rgba(255, 255, 255, 0.2)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.1)'">
                        Continuar sem instalar
                    </button>
                </div>
                
                <!-- InformaÃ§Ãµes Adicionais -->
                <div style="color: #a78bfa; font-size: clamp(0.9em, 3vw, 1em); text-align: center; max-width: 400px; line-height: 1.5;">
                    <p>ğŸ”’ Totalmente seguro e gratuito</p>
                    <p style="margin-top: 10px;">Compatible com Android e iOS</p>
                </div>
            </div>
        </div>

        <!-- SEU HTML ORIGINAL COMPLETO (inalterado) -->
        <!-- Tela Inicial -->
        <div class="splash-screen" id="splash" style="display: none;">
            <div class="logo" id="logoSecret" onclick="contarCliquesSecretos()">ğŸ™</div>
            <h1>Ho'oponopono</h1>
            <p class="subtitle">Jornada de Cura e TransformaÃ§Ã£o</p>
            <input type="text" class="name-input" id="name" placeholder="Digite seu nome" maxlength="30">
            <button class="btn" onclick="entrarApp()" id="btnIniciarJornada">Iniciar Jornada</button>

            <!-- Acesso Admin (totalmente escondido) -->
            <div id="botaoAdminSecreto" style="display: none; position: absolute; bottom: 10px; right: 10px;">
                <button style="background: rgba(139, 92, 246, 0.8); border: none; color: white; padding: 8px 12px; border-radius: 5px; font-size: 0.9em; cursor: pointer; animation: pulse 2s infinite;" onclick="abrirLoginAdmin()">ğŸ” Acesso Admin</button>
            </div>
        </div>
        <!-- Tela Principal -->
        <div class="main-screen" id="main">
            <!-- Header -->
            <div class="header">
                <div class="header-left">
                    <div style="font-weight: bold; font-size: clamp(1.1em, 4vw, 1.2em);" id="welcome">Bem-vindo</div>
                    <div style="color: #c4b5fd; font-size: clamp(0.9em, 3vw, 1em);" id="userLevel">NÃ­vel: Iniciante</div>
                </div>
                <div class="header-right">
                    <div style="color: #c4b5fd; font-size: clamp(0.9em, 3vw, 1em);">Progresso: 35%</div>
                    <div id="adminPanel" style="display: none; margin-top: 5px;">
                        <button style="background: #8b5cf6; color: white; border: none; padding: 5px 10px; border-radius: 5px; font-size: clamp(0.7em, 2.5vw, 0.8em); cursor: pointer;" onclick="abrirPainelAdmin()">ğŸ“‹ Painel Admin</button>
                    </div>
                </div>
            </div>
            <!-- ConteÃºdo Principal - InÃ­cio -->
            <div id="homeContent" class="content-section active">
                <h2 style="margin-bottom: 20px; color: #e9d5ff; font-size: clamp(1.5em, 5vw, 2em);">ğŸ“š MÃ³dulos de Aprendizado</h2>
                <div class="modules-grid" id="modulesContainer">
                    <!-- MÃ³dulos serÃ£o carregados dinamicamente -->
                </div>
            </div>
            <!-- ConteÃºdo - DiÃ¡rio -->
            <div id="diaryContent" class="content-section">
                <h2 style="margin-bottom: 20px; color: #e9d5ff; font-size: clamp(1.5em, 5vw, 2em);">ğŸ“– Meu DiÃ¡rio Ho'oponopono</h2>
                <div style="background: rgba(30, 0, 60, 0.3); backdrop-filter: blur(10px); border-radius: 20px; padding: clamp(20px, 5vw, 30px); border: 1px solid rgba(139, 92, 246, 0.3); margin-bottom: 20px;">
                    <h3 style="color: #a78bfa; margin-bottom: 15px; font-size: clamp(1.2em, 4vw, 1.5em);">Hoje</h3>
                    <textarea id="diaryText" style="width: 100%; min-height: 150px; background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 10px; padding: 15px; color: white; font-size: clamp(1em, 3vw, 1.1em); resize: vertical;" placeholder="Como foi sua prÃ¡tica hoje? O que vocÃª limpou?"></textarea>
                    <button class="btn" style="margin-top: 15px;" onclick="salvarDiario()">Salvar Entrada</button>
                </div>

                <h3 style="color: #e9d5ff; margin-bottom: 15px; font-size: clamp(1.2em, 4vw, 1.5em);">Entradas Anteriores</h3>
                <div id="entradas" style="background: rgba(30, 0, 60, 0.3); backdrop-filter: blur(10px); border-radius: 20px; padding: 20px; border: 1px solid rgba(139, 92, 246, 0.3);">
                    <p style="color: #c4b5fd; text-align: center;">Suas entradas aparecerÃ£o aqui</p>
                </div>
            </div>
            <!-- ConteÃºdo - Ãudios -->
            <div id="audioContent" class="content-section">
                <h2 style="margin-bottom: 20px; color: #e9d5ff; font-size: clamp(1.5em, 5vw, 2em);">ğŸµ Biblioteca de Ãudios</h2>

                <div class="modules-grid" id="audioGrid">
                    <!-- Ãudios serÃ£o adicionados dinamicamente aqui -->
                    <div id="mensagemSemAudios" style="grid-column: 1/-1; text-align: center; padding: 40px; background: rgba(30, 0, 60, 0.3); backdrop-filter: blur(10px); border-radius: 20px; border: 1px solid rgba(139, 92, 246, 0.3);">
                        <div style="font-size: clamp(40px, 10vw, 48px); margin-bottom: 20px;">ğŸµ</div>
                        <h3 style="color: #a78bfa; margin-bottom: 10px; font-size: clamp(1.2em, 4vw, 1.5em);">Nenhum Ã¡udio adicionado ainda</h3>
                        <p style="color: #c4b5fd; font-size: clamp(1em, 3vw, 1.1em);">Use o painel admin para adicionar seus Ã¡udios de Ho'oponopono</p>
                    </div>
                </div>
            </div>
            <!-- ConteÃºdo - Comunidade -->
            <div id="communityContent" class="content-section">
                <h2 style="margin-bottom: 20px; color: #e9d5ff; font-size: clamp(1.5em, 5vw, 2em);">ğŸ‘¥ Comunidade Ho'oponopono</h2>
                <div style="background: rgba(30, 0, 60, 0.3); backdrop-filter: blur(10px); border-radius: 20px; padding: clamp(20px, 5vw, 30px); border: 1px solid rgba(139, 92, 246, 0.3); margin-bottom: 20px;">
                    <h3 style="color: #a78bfa; margin-bottom: 15px; font-size: clamp(1.2em, 4vw, 1.5em);">Compartilhe sua ExperiÃªncia</h3>
                    <textarea id="postText" style="width: 100%; min-height: 100px; background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 10px; padding: 15px; color: white; font-size: clamp(1em, 3vw, 1.1em);" placeholder="Compartilhe sua jornada com outros praticantes..."></textarea>

                    <!-- Upload de imagem -->
                    <div style="margin-top: 15px;">
                        <input type="file" id="imageUpload" accept="image/*" style="display: none;" onchange="mostrarPreview(event)">
                        <label for="imageUpload" style="cursor: pointer; color: #a78bfa; text-decoration: underline; margin-right: 15px; font-size: clamp(1em, 3vw, 1.1em);">
                            ğŸ“· Adicionar imagem
                        </label>
                        <div id="imagePreview" style="margin-top: 10px; display: none;">
                            <img id="previewImg" style="max-width: 200px; max-height: 200px; border-radius: 10px; border: 2px solid rgba(139, 92, 246, 0.3);">
                            <button class="delete-btn" onclick="removerImagem()" style="margin-left: 10px;">âœ• Remover</button>
                        </div>
                    </div>

                    <button class="btn" style="margin-top: 15px;" onclick="publicarPost()">Publicar</button>
                </div>

                <h3 style="color: #e9d5ff; margin-bottom: 15px; font-size: clamp(1.2em, 4vw, 1.5em);">Posts Recentes</h3>
                <div id="posts">
                    <div style="background: rgba(30, 0, 60, 0.3); backdrop-filter: blur(10px); border-radius: 20px; padding: 20px; border: 1px solid rgba(139, 92, 246, 0.3); margin-bottom: 15px;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <div style="width: 40px; height: 40px; background: #8b5cf6; border-radius: 50%; display: flex; align-items: center; justify-content: center;">M</div>
                            <div style="flex: 1;">
                                <div style="font-weight: bold;">Maria Silva</div>
                                <div style="color: #c4b5fd; font-size: 0.9em;">hÃ¡ 2 horas</div>
                            </div>
                        </div>
                        <p style="line-height: 1.6; margin-bottom: 15px;">Hoje pratiquei Ho'oponopono no trabalho e senti uma paz incrÃ­vel! GratidÃ£o ğŸ™</p>

                        <!-- SeÃ§Ã£o de comentÃ¡rios -->
                        <div style="border-top: 1px solid rgba(139, 92, 246, 0.2); padding-top: 15px;">
                            <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                                <input type="text" placeholder="Adicione um comentÃ¡rio..." style="flex: 1; background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 15px; padding: 8px 15px; color: white; font-size: clamp(0.8em, 2.5vw, 0.9em);" onkeypress="if(event.key==='Enter') comentar(this, 'default')">
                                <button style="background: #8b5cf6; color: white; border: none; padding: 8px 15px; border-radius: 15px; cursor: pointer; font-size: clamp(0.8em, 2.5vw, 0.9em); min-height: 40px;" onclick="comentar(this.previousElementSibling, 'default')">ğŸ’¬</button>
                            </div>
                            <div id="comentarios-default">
                                <!-- ComentÃ¡rios aparecerÃ£o aqui -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Bottom Navigation -->
            <div class="bottom-nav">
                <div class="nav-item active" onclick="irPara('home')">
                    <span>ğŸ </span>
                    <span>InÃ­cio</span>
                </div>
                <div class="nav-item" onclick="irPara('diary')">
                    <span>ğŸ“–</span>
                    <span>DiÃ¡rio</span>
                </div>
                <div class="nav-item" onclick="irPara('audio')">
                    <span>ğŸµ</span>
                    <span>Ãudios</span>
                </div>
                <div class="nav-item" onclick="irPara('community')">
                    <span>ğŸ‘¥</span>
                    <span>Comunidade</span>
                </div>
            </div>
        </div>
        <!-- Modal Login Admin -->
        <div id="loginAdmin" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.9); z-index: 2000; align-items: center; justify-content: center;">
            <div style="background: rgba(30, 0, 60, 0.9); padding: clamp(20px, 5vw, 40px); border-radius: 20px; border: 1px solid rgba(139, 92, 246, 0.3); text-align: center; max-width: 90vw; width: 400px;">
                <h3 style="color: #a78bfa; margin-bottom: 20px; font-size: clamp(1.2em, 4vw, 1.5em);">Acesso Administrativo</h3>
                <input type="text" id="adminUser" placeholder="UsuÃ¡rio" style="width: 100%; margin-bottom: 10px; padding: clamp(8px, 2vw, 10px); border-radius: 5px; border: 1px solid #666; background: rgba(0,0,0,0.3); color: white; font-size: clamp(14px, 3vw, 16px);">
                <br>
                <input type="password" id="adminPass" placeholder="Senha" style="width: 100%; margin-bottom: 20px; padding: clamp(8px, 2vw, 10px); border-radius: 5px; border: 1px solid #666; background: rgba(0,0,0,0.3); color: white; font-size: clamp(14px, 3vw, 16px);">
                <br>
                <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                    <button style="background: #8b5cf6; color: white; border: none; padding: clamp(8px, 2vw, 10px) clamp(16px, 4vw, 20px); border-radius: 5px; cursor: pointer; font-size: clamp(14px, 3vw, 16px); min-height: 44px;" onclick="fazerLoginAdmin()">Entrar</button>
                    <button style="background: #666; color: white; border: none; padding: clamp(8px, 2vw, 10px) clamp(16px, 4vw, 20px); border-radius: 5px; cursor: pointer; font-size: clamp(14px, 3vw, 16px); min-height: 44px;" onclick="fecharLoginAdmin()">Cancelar</button>
                </div>
            </div>
        </div>
        <!-- Modal Painel Admin -->
        <div id="painelAdmin" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.9); z-index: 2000; padding: clamp(10px, 3vw, 20px); overflow-y: auto;">
            <div style="max-width: min(800px, 95vw); margin: 0 auto; background: rgba(30, 0, 60, 0.9); padding: clamp(15px, 4vw, 30px); border-radius: 20px; border: 1px solid rgba(139, 92, 246, 0.3);">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: clamp(20px, 5vw, 30px); flex-wrap: wrap; gap: 10px;">
                    <h2 style="color: #a78bfa; font-size: clamp(1.5em, 5vw, 2em);">ğŸ“‹ Painel Administrativo</h2>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button style="background: #10b981; color: white; border: none; padding: clamp(6px, 2vw, 8px) clamp(12px, 3vw, 15px); border-radius: 5px; cursor: pointer; font-size: clamp(12px, 3vw, 14px); min-height: 40px;" onclick="logoutAdminSimples()" id="btnSairAdmin">ğŸ‘¤ Sair Admin</button>
                        <button style="background: #ef4444; color: white; border: none; padding: clamp(6px, 2vw, 8px) clamp(12px, 3vw, 15px); border-radius: 5px; cursor: pointer; font-size: clamp(12px, 3vw, 14px); min-height: 40px;" onclick="fecharPainelAdmin()">âœ• Fechar</button>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr; gap: clamp(15px, 4vw, 20px);">
                    <!-- Editor de MÃ³dulos -->
                    <div style="background: rgba(0,0,0,0.2); padding: clamp(15px, 4vw, 20px); border-radius: 10px;">
                        <h3 style="color: #10b981; margin-bottom: 15px; font-size: clamp(1.2em, 4vw, 1.4em);">ğŸ“ Editor de MÃ³dulos</h3>

                        <!-- Seletor de MÃ³dulo -->
                        <select id="seletorModulo" onchange="carregarModuloEditor()" style="width: 100%; margin-bottom: 15px; padding: clamp(6px, 2vw, 8px); border-radius: 5px; border: 1px solid #666; background: rgba(0,0,0,0.3); color: white; font-size: clamp(14px, 3vw, 16px);">
                            <option value="">Selecione um mÃ³dulo para editar</option>
                        </select>

                        <!-- Ou criar novo -->
                        <div style="text-align: center; margin: 15px 0; color: #c4b5fd; font-size: clamp(1em, 3vw, 1.1em);">ou</div>

                        <div style="display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap;">
                            <input type="text" id="novoModuloTitulo" placeholder="TÃ­tulo do novo mÃ³dulo" style="flex: 1; min-width: 200px; padding: clamp(6px, 2vw, 8px); border-radius: 5px; border: 1px solid #666; background: rgba(0,0,0,0.3); color: white; font-size: clamp(14px, 3vw, 16px);">
                            <input type="text" id="novoModuloDescricao" placeholder="DescriÃ§Ã£o" style="flex: 1; min-width: 200px; padding: clamp(6px, 2vw, 8px); border-radius: 5px; border: 1px solid #666; background: rgba(0,0,0,0.3); color: white; font-size: clamp(14px, 3vw, 16px);">
                            <button style="background: #10b981; color: white; border: none; padding: clamp(6px, 2vw, 8px) clamp(12px, 3vw, 15px); border-radius: 5px; cursor: pointer; font-size: clamp(12px, 3vw, 14px); min-height: 40px; white-space: nowrap;" onclick="criarNovoModulo()">Criar Novo</button>
                        </div>
                    </div>

                    <!-- Editor de PÃ¡ginas -->
                    <div id="editorPaginas" style="background: rgba(0,0,0,0.2); padding: clamp(15px, 4vw, 20px); border-radius: 10px; display: none;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; flex-wrap: wrap; gap: 10px;">
                            <h3 style="color: #8b5cf6; font-size: clamp(1.2em, 4vw, 1.4em);">ğŸ“„ Editor de PÃ¡ginas</h3>
                            <button style="background: #10b981; color: white; border: none; padding: clamp(6px, 2vw, 8px) clamp(12px, 3vw, 15px); border-radius: 5px; cursor: pointer; font-size: clamp(12px, 3vw, 14px); min-height: 40px;" onclick="adicionarNovaPagina()">+ Nova PÃ¡gina</button>
                        </div>

                        <!-- Lista de pÃ¡ginas -->
                        <div id="listaPaginas" style="margin-bottom: 20px;"></div>

                        <!-- Editor da pÃ¡gina atual -->
                        <div id="editorPaginaAtual" style="display: none;">
                            <h4 style="color: #a78bfa; margin-bottom: 10px; font-size: clamp(1.1em, 3.5vw, 1.3em);">Editando PÃ¡gina <span id="numeroPaginaAtual"></span></h4>

                            <!-- TÃ­tulo da pÃ¡gina -->
                            <input type="text" id="tituloPagina" placeholder="TÃ­tulo da pÃ¡gina" style="width: 100%; margin-bottom: 10px; padding: clamp(6px, 2vw, 8px); border-radius: 5px; border: 1px solid #666; background: rgba(0,0,0,0.3); color: white; font-size: clamp(14px, 3vw, 16px);">

                            <!-- Editor de conteÃºdo -->
                            <div style="margin-bottom: 15px;">
                                <div style="display: flex; gap: clamp(5px, 2vw, 10px); margin-bottom: 10px; flex-wrap: wrap;">
    <button style="background: #8b5cf6; color: white; border: none; padding: clamp(4px, 1vw, 5px) clamp(8px, 2vw, 10px); border-radius: 3px; cursor: pointer; font-size: clamp(12px, 2.5vw, 14px); min-height: 36px;" onclick="adicionarElemento('titulo')">+ TÃ­tulo</button>
    <button style="background: #10b981; color: white; border: none; padding: clamp(4px, 1vw, 5px) clamp(8px, 2vw, 10px); border-radius: 3px; cursor: pointer; font-size: clamp(12px, 2.5vw, 14px); min-height: 36px;" onclick="adicionarElemento('subtitulo')">+ SubtÃ­tulo</button>
    <button style="background: #f59e0b; color: white; border: none; padding: clamp(4px, 1vw, 5px) clamp(8px, 2vw, 10px); border-radius: 3px; cursor: pointer; font-size: clamp(12px, 2.5vw, 14px); min-height: 36px;" onclick="adicionarElemento('texto')">+ Texto</button>
    <button style="background: #ef4444; color: white; border: none; padding: clamp(4px, 1vw, 5px) clamp(8px, 2vw, 10px); border-radius: 3px; cursor: pointer; font-size
